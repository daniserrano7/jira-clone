import{j as V}from"./jsx-runtime-29545a09.js";import{r as o}from"./index-76fb7be0.js";import{p as j,a as w,N as $,L as z,m as B,b as Y,e as W,f as q,D as G,c as Q}from"./index-9d890d39.js";import{_ as K}from"./iframe-574401ae.js";/**
 * @remix-run/react v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p(){return p=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},p.apply(this,arguments)}/**
 * @remix-run/react v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}async function X(e,r){if(e.id in r)return r[e.id];try{let t=await K(()=>import(e.module),[]);return r[e.id]=t,t}catch{return window.location.reload(),new Promise(()=>{})}}/**
 * @remix-run/react v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J(e){return e==null?!1:e.href==null?e.rel==="preload"&&(typeof e.imageSrcSet=="string"||typeof e.imagesrcset=="string")&&(typeof e.imageSizes=="string"||typeof e.imagesizes=="string"):typeof e.rel=="string"&&typeof e.href=="string"}async function Z(e,r,t){return(await Promise.all(e.map(async n=>{let i=await X(r.routes[n.route.id],t);return i.links?i.links():[]}))).flat(1).filter(J).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="preload"?{...n,rel:"prefetch"}:{...n,rel:"prefetch",as:"style"})}function P(e,r,t,s,n,i){let l=b(e),u=(f,a)=>t[a]?f.route.id!==t[a].route.id:!0,d=(f,a)=>{var c;return t[a].pathname!==f.pathname||((c=t[a].route.path)===null||c===void 0?void 0:c.endsWith("*"))&&t[a].params["*"]!==f.params["*"]};return i==="data"&&n.search!==l.search?r.filter((f,a)=>{if(!s.routes[f.route.id].hasLoader)return!1;if(u(f,a)||d(f,a))return!0;if(f.route.shouldRevalidate){var h;let y=f.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((h=t[0])===null||h===void 0?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):r.filter((f,a)=>{let c=s.routes[f.route.id];return(i==="assets"||c.hasLoader)&&(u(f,a)||d(f,a))})}function ee(e,r,t){let s=b(e);return R(r.filter(n=>t.routes[n.route.id].hasLoader).map(n=>{let{pathname:i,search:l}=s,u=new URLSearchParams(l);return u.set("_data",n.route.id),`${i}?${u}`}))}function te(e,r){return R(e.map(t=>{let s=r.routes[t.route.id],n=[s.module];return s.imports&&(n=n.concat(s.imports)),n}).flat(1))}function R(e){return[...new Set(e)]}function b(e){let r=j(e);return r.search===void 0&&(r.search=""),r}/**
 * @remix-run/react v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const re={state:"idle",type:"init",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,submission:void 0};/**
 * @remix-run/react v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ne(){let e=o.useContext(G);return E(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function se(){let e=o.useContext(Q);return E(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}const C=o.createContext(void 0);C.displayName="Remix";function S(){let e=o.useContext(C);return E(e,"You must render this element inside a <Remix> element"),e}function x(e,r){let[t,s]=o.useState(!1),[n,i]=o.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:m,onTouchStart:f}=r,a=o.useRef(null);o.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let y=I=>{I.forEach(O=>{i(O.isIntersecting)})},L=new IntersectionObserver(y,{threshold:.5});return a.current&&L.observe(a.current),()=>{L.disconnect()}}},[e]);let c=()=>{e==="intent"&&s(!0)},h=()=>{e==="intent"&&(s(!1),i(!1))};return o.useEffect(()=>{if(t){let y=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(y)}}},[t]),[n,a,{onFocus:g(l,c),onBlur:g(u,h),onMouseEnter:g(d,c),onMouseLeave:g(m,h),onTouchStart:g(f,c)}]}const D=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;let ae=o.forwardRef(({to:e,prefetch:r="none",...t},s)=>{let n=typeof e=="string"&&D.test(e),i=w(e),[l,u,d]=x(r,t);return o.createElement(o.Fragment,null,o.createElement($,p({},t,d,{ref:F(s,u),to:e})),l&&!n?o.createElement(k,{page:i}):null)});ae.displayName="NavLink";let oe=o.forwardRef(({to:e,prefetch:r="none",...t},s)=>{let n=typeof e=="string"&&D.test(e),i=w(e),[l,u,d]=x(r,t);return o.createElement(o.Fragment,null,o.createElement(z,p({},t,d,{ref:F(s,u),to:e})),l&&!n?o.createElement(k,{page:i}):null)});oe.displayName="Link";function g(e,r){return t=>{e&&e(t),t.defaultPrevented||r(t)}}function k({page:e,...r}){let{router:t}=ne(),s=o.useMemo(()=>B(t.routes,e),[t.routes,e]);return s?o.createElement(ue,p({page:e,matches:s},r)):(console.warn(`Tried to prefetch ${e} but no routes matched.`),null)}function ie(e){let{manifest:r,routeModules:t}=S(),[s,n]=o.useState([]);return o.useEffect(()=>{let i=!1;return Z(e,r,t).then(l=>{i||n(l)}),()=>{i=!0}},[e,r,t]),s}function ue({page:e,matches:r,...t}){let s=Y(),{manifest:n}=S(),{matches:i}=se(),l=o.useMemo(()=>P(e,r,i,n,s,"data"),[e,r,i,n,s]),u=o.useMemo(()=>P(e,r,i,n,s,"assets"),[e,r,i,n,s]),d=o.useMemo(()=>ee(e,l,n),[l,e,n]),m=o.useMemo(()=>te(u,n),[u,n]),f=ie(u);return o.createElement(o.Fragment,null,d.map(a=>o.createElement("link",p({key:a,rel:"prefetch",as:"fetch",href:a},t))),m.map(a=>o.createElement("link",p({key:a,rel:"modulepreload",href:a},t))),f.map(a=>o.createElement("link",p({key:a.href},a))))}function ve(){return W()}function le(){let e=q();return o.useMemo(()=>{let t={...de({state:e.state,data:e.data,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text," _hasFetcherDoneAnything ":e[" _hasFetcherDoneAnything "]}),load:e.load,submit:e.submit,Form:e.Form};return fe(t),t},[e])}function fe(e){let r=e.type;Object.defineProperty(e,"type",{get(){return r},set(s){r=s},configurable:!0,enumerable:!0});let t=e.submission;Object.defineProperty(e,"submission",{get(){return t},set(s){t=s},configurable:!0,enumerable:!0})}function de(e){let{state:r,formMethod:t,formAction:s,formEncType:n,formData:i,json:l,text:u,data:d}=e,m=t!=null&&["POST","PUT","PATCH","DELETE"].includes(t.toUpperCase());if(r==="idle")return e[" _hasFetcherDoneAnything "]===!0?{state:"idle",type:"done",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,submission:void 0,data:d}:re;if(r==="submitting"&&t&&s&&n&&(i||l!==void 0||u!==void 0)){if(m)return{state:r,type:"actionSubmission",formMethod:t.toUpperCase(),formAction:s,formEncType:n,formData:i,json:l,text:u,submission:{method:t.toUpperCase(),action:s,encType:n,formData:i,json:l,text:u,key:""},data:d};E(!1,"Encountered an unexpected fetcher scenario in useFetcher()")}if(r==="loading"&&t&&s&&n){if(m)return d?{state:r,type:"actionReload",formMethod:t.toUpperCase(),formAction:s,formEncType:n,formData:i,json:l,text:u,submission:{method:t.toUpperCase(),action:s,encType:n,formData:i,json:l,text:u,key:""},data:d}:{state:r,type:"actionRedirect",formMethod:t.toUpperCase(),formAction:s,formEncType:n,formData:i,json:l,text:u,submission:{method:t.toUpperCase(),action:s,encType:n,formData:i,json:l,text:u,key:""},data:void 0};{let a=new URL(s,window.location.origin);return i&&(a.search=new URLSearchParams(i.entries()).toString()),{state:"submitting",type:"loaderSubmission",formMethod:t.toUpperCase(),formAction:s,formEncType:n,formData:i,json:l,text:u,submission:{method:t.toUpperCase(),action:a.pathname+a.search,encType:n,formData:i,json:l,text:u,key:""},data:d}}}return{state:"loading",type:"normalLoad",formMethod:void 0,formAction:void 0,formData:void 0,json:void 0,text:void 0,formEncType:void 0,submission:void 0,data:d}}function F(...e){return r=>{e.forEach(t=>{typeof t=="function"?t(r):t!=null&&(t.current=r)})}}var M=(e=>(e.LIGHT="light",e.DARK="dark",e.LAVA="lava",e.LIME="lime",e))(M||{});const A=Object.values(M);var U=(e=>(e.SELECTED="selected",e.SYSTEM="system",e))(U||{});const ce=Object.values(U),Le="light",me="system",N=o.createContext(null),H="(prefers-color-scheme: light)",he=()=>window.matchMedia(H).matches?"light":"dark",T=({children:e,specifiedTheme:r,specifiedPreference:t})=>{const[s,n]=o.useState(()=>r?A.includes(r)?r:null:typeof window!="object"?null:he()),[i,l]=o.useState(()=>v(t)?t:me),u=le(),d=o.useRef(u);o.useEffect(()=>{d.current=u},[u]),o.useEffect(()=>{const a=window.matchMedia(H),c=()=>{if(i!=="system")return;const h=a.matches?"light":"dark";n(h)};return a.addEventListener("change",c),()=>a.removeEventListener("change",c)},[i]);const m=o.useCallback((a,c="system")=>{d.current.submit({theme:a,preference:c},{action:"action/set-theme",method:"post"}),n(a),l(c)},[]),f={theme:s,preference:i,setTheme:m};return V(N.Provider,{value:f,children:e})},Pe=()=>{const e=o.useContext(N);if(e===null)throw new Error("useTheme must be used within a ThemeProvider");return e},_=e=>A.includes(e),v=e=>ce.includes(e);try{T.displayName="ThemeProvider",T.__docgenInfo={description:"",displayName:"ThemeProvider",props:{specifiedTheme:{defaultValue:null,description:"",name:"specifiedTheme",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"light"'},{value:'"dark"'},{value:'"lava"'},{value:'"lime"'}]}},specifiedPreference:{defaultValue:null,description:"",name:"specifiedPreference",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"selected"'},{value:'"system"'}]}}}}}catch{}try{_.displayName="isValidTheme",_.__docgenInfo={description:"",displayName:"isValidTheme",props:{}}}catch{}try{v.displayName="isValidPreference",v.__docgenInfo={description:"",displayName:"isValidPreference",props:{}}}catch{}export{Le as D,oe as L,ae as N,U as P,T,M as a,ve as b,Pe as c,_ as d,he as g,v as i,le as u};
//# sourceMappingURL=theme.store-d37cac00.js.map
