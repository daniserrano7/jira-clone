import{a as k,j as x,F as se}from"./jsx-runtime-29545a09.js";import{t as M}from"./classix-ee785c7e.js";import{$ as ie,a as _,b as T,_ as p,g as E,e as de}from"./index-d3606c93.js";import{r}from"./index-76fb7be0.js";import{$ as X}from"./index-e62f264b.js";import{$ as ue}from"./index-c6b1b4f9.js";import{$ as fe}from"./index-6a2b73ba.js";import{$ as P}from"./index-1b3f171e.js";import"./index-add592e3.js";import"./_commonjsHelpers-de833af9.js";function be(e,n){return r.useReducer((t,c)=>{const o=n[t][c];return o??t},e)}const Z="ScrollArea",[ee,Be]=ie(Z),[he,$]=ee(Z),me=r.forwardRef((e,n)=>{const{__scopeScrollArea:t,type:c="hover",dir:o,scrollHideDelay:l=600,...s}=e,[a,d]=r.useState(null),[f,i]=r.useState(null),[b,u]=r.useState(null),[h,S]=r.useState(null),[A,U]=r.useState(null),[w,D]=r.useState(0),[V,L]=r.useState(0),[N,R]=r.useState(!1),[z,H]=r.useState(!1),m=_(n,C=>d(C)),v=ue(o);return r.createElement(he,{scope:t,type:c,dir:v,scrollHideDelay:l,scrollArea:a,viewport:f,onViewportChange:i,content:b,onContentChange:u,scrollbarX:h,onScrollbarXChange:S,scrollbarXEnabled:N,onScrollbarXEnabledChange:R,scrollbarY:A,onScrollbarYChange:U,scrollbarYEnabled:z,onScrollbarYEnabledChange:H,onCornerWidthChange:D,onCornerHeightChange:L},r.createElement(T.div,p({dir:v},s,{ref:m,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":V+"px",...e.style}})))}),pe="ScrollAreaViewport",Se=r.forwardRef((e,n)=>{const{__scopeScrollArea:t,children:c,...o}=e,l=$(pe,t),s=r.useRef(null),a=_(n,s,l.onViewportChange);return r.createElement(r.Fragment,null,r.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),r.createElement(T.div,p({"data-radix-scroll-area-viewport":""},o,{ref:a,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style}}),r.createElement("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"}},c)))}),g="ScrollAreaScrollbar",$e=r.forwardRef((e,n)=>{const{forceMount:t,...c}=e,o=$(g,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:s}=o,a=e.orientation==="horizontal";return r.useEffect(()=>(a?l(!0):s(!0),()=>{a?l(!1):s(!1)}),[a,l,s]),o.type==="hover"?r.createElement(ve,p({},c,{ref:n,forceMount:t})):o.type==="scroll"?r.createElement(ge,p({},c,{ref:n,forceMount:t})):o.type==="auto"?r.createElement(re,p({},c,{ref:n,forceMount:t})):o.type==="always"?r.createElement(j,p({},c,{ref:n})):null}),ve=r.forwardRef((e,n)=>{const{forceMount:t,...c}=e,o=$(g,e.__scopeScrollArea),[l,s]=r.useState(!1);return r.useEffect(()=>{const a=o.scrollArea;let d=0;if(a){const f=()=>{window.clearTimeout(d),s(!0)},i=()=>{d=window.setTimeout(()=>s(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",f),a.addEventListener("pointerleave",i),()=>{window.clearTimeout(d),a.removeEventListener("pointerenter",f),a.removeEventListener("pointerleave",i)}}},[o.scrollArea,o.scrollHideDelay]),r.createElement(X,{present:t||l},r.createElement(re,p({"data-state":l?"visible":"hidden"},c,{ref:n})))}),ge=r.forwardRef((e,n)=>{const{forceMount:t,...c}=e,o=$(g,e.__scopeScrollArea),l=e.orientation==="horizontal",s=I(()=>d("SCROLL_END"),100),[a,d]=be("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return r.useEffect(()=>{if(a==="idle"){const f=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[a,o.scrollHideDelay,d]),r.useEffect(()=>{const f=o.viewport,i=l?"scrollLeft":"scrollTop";if(f){let b=f[i];const u=()=>{const h=f[i];b!==h&&(d("SCROLL"),s()),b=h};return f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[o.viewport,l,d,s]),r.createElement(X,{present:t||a!=="hidden"},r.createElement(j,p({"data-state":a==="hidden"?"hidden":"visible"},c,{ref:n,onPointerEnter:P(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:P(e.onPointerLeave,()=>d("POINTER_LEAVE"))})))}),re=r.forwardRef((e,n)=>{const t=$(g,e.__scopeScrollArea),{forceMount:c,...o}=e,[l,s]=r.useState(!1),a=e.orientation==="horizontal",d=I(()=>{if(t.viewport){const f=t.viewport.offsetWidth<t.viewport.scrollWidth,i=t.viewport.offsetHeight<t.viewport.scrollHeight;s(a?f:i)}},10);return y(t.viewport,d),y(t.content,d),r.createElement(X,{present:c||l},r.createElement(j,p({"data-state":l?"visible":"hidden"},o,{ref:n})))}),j=r.forwardRef((e,n)=>{const{orientation:t="vertical",...c}=e,o=$(g,e.__scopeScrollArea),l=r.useRef(null),s=r.useRef(0),[a,d]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=le(a.viewport,a.content),i={...c,sizes:a,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:u=>l.current=u,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:u=>s.current=u};function b(u,h){return Ae(u,s.current,a,h)}return t==="horizontal"?r.createElement(we,p({},i,{ref:n,onThumbPositionChange:()=>{if(o.viewport&&l.current){const u=o.viewport.scrollLeft,h=q(u,a,o.dir);l.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:u=>{o.viewport&&(o.viewport.scrollLeft=u)},onDragScroll:u=>{o.viewport&&(o.viewport.scrollLeft=b(u,o.dir))}})):t==="vertical"?r.createElement(Ee,p({},i,{ref:n,onThumbPositionChange:()=>{if(o.viewport&&l.current){const u=o.viewport.scrollTop,h=q(u,a);l.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:u=>{o.viewport&&(o.viewport.scrollTop=u)},onDragScroll:u=>{o.viewport&&(o.viewport.scrollTop=b(u))}})):null}),we=r.forwardRef((e,n)=>{const{sizes:t,onSizesChange:c,...o}=e,l=$(g,e.__scopeScrollArea),[s,a]=r.useState(),d=r.useRef(null),f=_(n,d,l.onScrollbarXChange);return r.useEffect(()=>{d.current&&a(getComputedStyle(d.current))},[d]),r.createElement(oe,p({"data-orientation":"horizontal"},o,{ref:f,sizes:t,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Y(t)+"px",...e.style},onThumbPointerDown:i=>e.onThumbPointerDown(i.x),onDragScroll:i=>e.onDragScroll(i.x),onWheelScroll:(i,b)=>{if(l.viewport){const u=l.viewport.scrollLeft+i.deltaX;e.onWheelScroll(u),ae(u,b)&&i.preventDefault()}},onResize:()=>{d.current&&l.viewport&&s&&c({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:O(s.paddingLeft),paddingEnd:O(s.paddingRight)}})}}))}),Ee=r.forwardRef((e,n)=>{const{sizes:t,onSizesChange:c,...o}=e,l=$(g,e.__scopeScrollArea),[s,a]=r.useState(),d=r.useRef(null),f=_(n,d,l.onScrollbarYChange);return r.useEffect(()=>{d.current&&a(getComputedStyle(d.current))},[d]),r.createElement(oe,p({"data-orientation":"vertical"},o,{ref:f,sizes:t,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Y(t)+"px",...e.style},onThumbPointerDown:i=>e.onThumbPointerDown(i.y),onDragScroll:i=>e.onDragScroll(i.y),onWheelScroll:(i,b)=>{if(l.viewport){const u=l.viewport.scrollTop+i.deltaY;e.onWheelScroll(u),ae(u,b)&&i.preventDefault()}},onResize:()=>{d.current&&l.viewport&&s&&c({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:O(s.paddingTop),paddingEnd:O(s.paddingBottom)}})}}))}),[xe,te]=ee(g),oe=r.forwardRef((e,n)=>{const{__scopeScrollArea:t,sizes:c,hasThumb:o,onThumbChange:l,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:i,onResize:b,...u}=e,h=$(g,t),[S,A]=r.useState(null),U=_(n,m=>A(m)),w=r.useRef(null),D=r.useRef(""),V=h.viewport,L=c.content-c.viewport,N=E(i),R=E(d),z=I(b,10);function H(m){if(w.current){const v=m.clientX-w.current.left,C=m.clientY-w.current.top;f({x:v,y:C})}}return r.useEffect(()=>{const m=v=>{const C=v.target;(S==null?void 0:S.contains(C))&&N(v,L)};return document.addEventListener("wheel",m,{passive:!1}),()=>document.removeEventListener("wheel",m,{passive:!1})},[V,S,L,N]),r.useEffect(R,[c,R]),y(S,z),y(h.content,z),r.createElement(xe,{scope:t,scrollbar:S,hasThumb:o,onThumbChange:E(l),onThumbPointerUp:E(s),onThumbPositionChange:R,onThumbPointerDown:E(a)},r.createElement(T.div,p({},u,{ref:U,style:{position:"absolute",...u.style},onPointerDown:P(e.onPointerDown,m=>{m.button===0&&(m.target.setPointerCapture(m.pointerId),w.current=S.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",H(m))}),onPointerMove:P(e.onPointerMove,H),onPointerUp:P(e.onPointerUp,m=>{const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),document.body.style.webkitUserSelect=D.current,w.current=null})})))}),F="ScrollAreaThumb",Pe=r.forwardRef((e,n)=>{const{forceMount:t,...c}=e,o=te(F,e.__scopeScrollArea);return r.createElement(X,{present:t||o.hasThumb},r.createElement(Ce,p({ref:n},c)))}),Ce=r.forwardRef((e,n)=>{const{__scopeScrollArea:t,style:c,...o}=e,l=$(F,t),s=te(F,t),{onThumbPositionChange:a}=s,d=_(n,b=>s.onThumbChange(b)),f=r.useRef(),i=I(()=>{f.current&&(f.current(),f.current=void 0)},100);return r.useEffect(()=>{const b=l.viewport;if(b){const u=()=>{if(i(),!f.current){const h=Re(b,a);f.current=h,a()}};return a(),b.addEventListener("scroll",u),()=>b.removeEventListener("scroll",u)}},[l.viewport,i,a]),r.createElement(T.div,p({"data-state":s.hasThumb?"visible":"hidden"},o,{ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...c},onPointerDownCapture:P(e.onPointerDownCapture,b=>{const h=b.target.getBoundingClientRect(),S=b.clientX-h.left,A=b.clientY-h.top;s.onThumbPointerDown({x:S,y:A})}),onPointerUp:P(e.onPointerUp,s.onThumbPointerUp)}))}),ne="ScrollAreaCorner",ye=r.forwardRef((e,n)=>{const t=$(ne,e.__scopeScrollArea),c=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&c?r.createElement(_e,p({},e,{ref:n})):null}),_e=r.forwardRef((e,n)=>{const{__scopeScrollArea:t,...c}=e,o=$(ne,t),[l,s]=r.useState(0),[a,d]=r.useState(0),f=!!(l&&a);return y(o.scrollbarX,()=>{var i;const b=((i=o.scrollbarX)===null||i===void 0?void 0:i.offsetHeight)||0;o.onCornerHeightChange(b),d(b)}),y(o.scrollbarY,()=>{var i;const b=((i=o.scrollbarY)===null||i===void 0?void 0:i.offsetWidth)||0;o.onCornerWidthChange(b),s(b)}),f?r.createElement(T.div,p({},c,{ref:n,style:{width:l,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function O(e){return e?parseInt(e,10):0}function le(e,n){const t=e/n;return isNaN(t)?0:t}function Y(e){const n=le(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,c=(e.scrollbar.size-t)*n;return Math.max(c,18)}function Ae(e,n,t,c="ltr"){const o=Y(t),l=o/2,s=n||l,a=o-s,d=t.scrollbar.paddingStart+s,f=t.scrollbar.size-t.scrollbar.paddingEnd-a,i=t.content-t.viewport,b=c==="ltr"?[0,i]:[i*-1,0];return ce([d,f],b)(e)}function q(e,n,t="ltr"){const c=Y(n),o=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,l=n.scrollbar.size-o,s=n.content-n.viewport,a=l-c,d=t==="ltr"?[0,s]:[s*-1,0],f=fe(e,d);return ce([0,s],[0,a])(f)}function ce(e,n){return t=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const c=(n[1]-n[0])/(e[1]-e[0]);return n[0]+c*(t-e[0])}}function ae(e,n){return e>0&&e<n}const Re=(e,n=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},c=0;return function o(){const l={left:e.scrollLeft,top:e.scrollTop},s=t.left!==l.left,a=t.top!==l.top;(s||a)&&n(),t=l,c=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(c)};function I(e,n){const t=E(e),c=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(c.current),[]),r.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(t,n)},[t,n])}function y(e,n){const t=E(n);de(()=>{let c=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(c),c=window.requestAnimationFrame(t)});return o.observe(e),()=>{window.cancelAnimationFrame(c),o.unobserve(e)}}},[e,t])}const Te=me,De=Se,Le=$e,Ne=Pe,ze=ye,B=({className:e,children:n})=>k(Te,{type:"hover",scrollHideDelay:400,className:"h-full w-full overflow-y-scroll scrollbar-hide",children:[x(De,{className:M("h-full w-full",e),children:n}),x(Le,{orientation:"vertical",className:M("flex w-2 touch-none select-none rounded-full bg-grey-400 duration-150 ease-out hover:bg-grey-600"),children:x(Ne,{className:M("relative h-full flex-1 -translate-x-1/2 -translate-y-1/2 rounded-full bg-font-grey","before:absolute before:top-1/2 before:left-1/2")})}),x(ze,{})]});try{B.displayName="ScrollArea",B.__docgenInfo={description:"",displayName:"ScrollArea",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const je={title:"Components/ScrollArea",parameters:{layout:"centered"},argTypes:{className:{defaultValue:"",control:{type:"text"}},children:{defaultValue:"Scroll area",control:{type:"text"}}}},G=250,W={render:e=>k(se,{children:[k("p",{className:"mb-1 text-font",children:["Height: ",G,"px"]}),x("div",{style:{height:G},className:"rounded bg-background-neutral p-2 text-font",children:x(B,{children:Array.from({length:100},(n,t)=>x("div",{className:M("p-2",t%2===0?"bg-elevation-surface":"bg-elevation-subtle"),children:"Scroll item content"},t))})})]})};var J,K,Q;W.parameters={...W.parameters,docs:{...(J=W.parameters)==null?void 0:J.docs,source:{originalSource:`{
  render: _ => <>
      <p className="mb-1 text-font">Height: {height}px</p>
      <div style={{
      height
    }} className="rounded bg-background-neutral p-2 text-font">
        <ScrollArea>
          {Array.from({
          length: 100
        }, (_, index) => <div key={index} className={cx("p-2", index % 2 === 0 ? "bg-elevation-surface" : "bg-elevation-subtle")}>
              Scroll item content
            </div>)}
        </ScrollArea>
      </div>
    </>
}`,...(Q=(K=W.parameters)==null?void 0:K.docs)==null?void 0:Q.source}}};const qe=["Default"];export{W as Default,qe as __namedExportsOrder,je as default};
//# sourceMappingURL=scroll-area.stories-d1b24f46.js.map
