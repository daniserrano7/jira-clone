import{j as u,a as g}from"./jsx-runtime-29545a09.js";import{$ as v,b as f,_ as $,g as x,e as _}from"./index-d3606c93.js";import{r as s}from"./index-76fb7be0.js";import{T as h}from"./tooltip-747c2033.js";const A=()=>{const t=360*Math.random(),r=25+70*Math.random(),a=85+10*Math.random();return S(t,r,a)},S=(t,r,a)=>{a/=100;const e=r*Math.min(a,1-a)/100,o=n=>{const d=(n+t/30)%12,c=a-e*Math.max(Math.min(d-3,9-d,1),-1);return Math.round(255*c).toString(16).padStart(2,"0")};return`#${o(0)}${o(8)}${o(4)}`},m="Avatar",[y,k]=v(m),[M,b]=y(m),w=s.forwardRef((t,r)=>{const{__scopeAvatar:a,...e}=t,[o,n]=s.useState("idle");return s.createElement(M,{scope:a,imageLoadingStatus:o,onImageLoadingStatusChange:n},s.createElement(f.span,$({},e,{ref:r})))}),L="AvatarImage",C=s.forwardRef((t,r)=>{const{__scopeAvatar:a,src:e,onLoadingStatusChange:o=()=>{},...n}=t,d=b(L,a),c=I(e),i=x(l=>{o(l),d.onImageLoadingStatusChange(l)});return _(()=>{c!=="idle"&&i(c)},[c,i]),c==="loaded"?s.createElement(f.img,$({},n,{ref:r,src:e})):null}),E="AvatarFallback",N=s.forwardRef((t,r)=>{const{__scopeAvatar:a,delayMs:e,...o}=t,n=b(E,a),[d,c]=s.useState(e===void 0);return s.useEffect(()=>{if(e!==void 0){const i=window.setTimeout(()=>c(!0),e);return()=>window.clearTimeout(i)}},[e]),d&&n.imageLoadingStatus!=="loaded"?s.createElement(f.span,$({},o,{ref:r})):null});function I(t){const[r,a]=s.useState("idle");return s.useEffect(()=>{if(!t){a("error");return}let e=!0;const o=new window.Image,n=d=>()=>{e&&a(d)};return a("loading"),o.onload=n("loaded"),o.onerror=n("error"),o.src=t,()=>{e=!1}},[t]),r}const R=w,j=C,T=N,p=({name:t,image:r,color:a,size:e=36,tooltip:o=!1})=>{const n=r==null?void 0:r.replace(".webp","-min.webp"),d=e>80?`./avatars/${r}`:`./avatars/${n}`,c={width:`${e}px`,minWidth:`${e}px`,height:`${e}px`},i=t.split(" ").slice(0,2).map(l=>l[0].toUpperCase()).join("");return u(h,{title:t,show:o,children:g(R,{className:"flex items-center rounded-full",style:c,children:[u(j,{className:"rounded-full object-cover",src:r?d:void 0,style:c,alt:t}),u(T,{delayMs:0,className:"flex items-center justify-center rounded-full text-[var(--Neutral1000)]",style:{...c,backgroundColor:a||A(),fontSize:`${e/2}px`},children:i})]})})};try{p.displayName="UserAvatar",p.__docgenInfo={description:"",displayName:"UserAvatar",props:{size:{defaultValue:{value:"36"},description:"",name:"size",required:!1,type:{name:"number"}},tooltip:{defaultValue:{value:"false"},description:"",name:"tooltip",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}}}}}catch{}export{p as U};
//# sourceMappingURL=user-avatar-5e432c66.js.map
